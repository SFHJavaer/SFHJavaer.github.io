---
layout: post
title: 'SSM医疗后台Curd过程中出现的问题'
date: 2021-03-07
author: Futari
cover: 'http://on2171g4d.bkt.clouddn.com/jekyll-banner.png'
tags: Spring RabbitMQ
---
###### 代码为传智博客医疗项目，代码在我Github

我在测试Curd时总结了所有报错的情况，研究了大半天终于修好了，总结一下：

1.新建窗口点确定后无响应，开发者工具显示add.do请求404，在RequestMapping路径正常的情况下，首先检查Controller（讲义的代码中Controller的RequestMapping默认不修改就是正确的），其次如果自己建的项目包不是com.itheima却直接复制了讲义代码,请打开SpringMvc.xml修改<dubbo:annotation的package为自己的包，还有dubbo的生产者和消费者指定的包路径都要自行修改，不知能直接复制

2.老版课件里文件名带有（1）导致无法识别的的请查看错误提示自行修改

3.点击确定按钮后新建失败的，报异常Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: com.mysql.cj.jdbc.Driver
org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction;因为windows上安装的是mysql8而parent的pom文件中驱动时mysql5，version修改为<mysql.version>8.0.11</mysql.version>，并且将“spring-dao.xml”中driverClassName修改为支持mysql8的com.mysql.cj.jdbc.Driver即可解决

4.报错com.alibaba.dubbo.rpc.RpcException: No provider available from registry 120.25.85.89:2181 for service com.itheima.service.CheckItemService on consumer 192.168.60.1 use dubbo version 2.6.0, may be providers disabled or not registered ?这里登录到7001端口也可以看到只注册了一个health_backend消费者却没有对应的service生产者，其实和zookeeper和dubbo和Dao都没有关系，是Service内部出了问题不能作为provider，health_provider中的web.xml文件的<context-param>属性的param-value构建时为classpath*:applicationContext.xml应当修改为classpath*:spring*.xml，因为我们resource中配置文件的编写统一使用的是spring-xxx.xml,不然根本扫描不到Spring容器的配置文件，前面包名出现问题的请把itheima改为自己的包写在<dubbo:annotation中，修改完成后如果错误变更为Could not create connection to database server，请参考第3条

5.时区出现错误The server time zone value 'ÖÐ¹ú±ê×¼Ê±¼ä' is unrecognized or represents more than one time zone.按照提示添加时区（百度一下）

6.其它简单的报错信息请根据错误提示自行排查，谢谢！